<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Soleil & Lune Amoureux</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(160deg, #3a0ca3 0%, #7209b7 50%, #b5179e 100%);
      overflow: hidden;
      font-family: sans-serif;
    }

    .stage {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .card {
      position: absolute;
      top: 50%;
      width: 150px;
      height: 150px;
      transform: translateY(-50%);
    }

    svg { width: 100%; height: auto; }

    /* Soleil */
    .sun { left: 50%; transform: translate(-140%, -50%); }
    .sun .face { fill: #ffd24d; }
    .sun .rays { fill: #ffcf4b; }
    .sun .eye { fill: #333; }
    .sun .cheek { fill: #ff7aa2; opacity: 0; animation: blush 3s ease-in-out infinite; }
    @keyframes blush {
      0%,100%{opacity:0}
      50%{opacity:1}
    }

    /* Lune */
    .moon { left: 50%; transform: translate(-20%, -50%); }
    .moon .eye { fill: #333; transform-origin: center; animation: blink 4s infinite; }
    @keyframes blink {
      0%,90%{transform:scaleY(1)}
      92%,98%{transform:scaleY(0.1)}
      100%{transform:scaleY(1)}
    }

    .smile { stroke: #333; stroke-width: 3; fill: none; }

    /* Coeurs */
    .heart {
      position: absolute;
      font-size: 20px;
      color: #ff7aa2;
      animation: floatUp 3s ease-out forwards;
      pointer-events: none;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(0.5); opacity: 1; }
      100% { transform: translateY(-200px) scale(1.2); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="stage" id="stage">

    <div class="card sun">
      <svg viewBox="0 0 200 200">
        <g class="rays">
          <circle cx="100" cy="100" r="34" />
          <g transform="translate(100,100)">
            <rect x="-3" y="-62" width="6" height="20" rx="3"/>
            <rect x="-3" y="42" width="6" height="20" rx="3" transform="rotate(180)"/>
            <rect x="-62" y="-3" width="20" height="6" rx="3"/>
            <rect x="42" y="-3" width="20" height="6" rx="3"/>
          </g>
        </g>
        <circle class="face" cx="100" cy="100" r="30" />
        <ellipse class="eye" cx="90" cy="95" rx="4.5" ry="6" />
        <ellipse class="eye" cx="110" cy="95" rx="4.5" ry="6" />
        <path class="smile" d="M88 107 Q100 118 112 107" />
        <ellipse class="cheek" cx="80" cy="104" rx="6" ry="4" />
        <ellipse class="cheek" cx="120" cy="104" rx="6" ry="4" />
      </svg>
    </div>

    <div class="card moon">
      <svg viewBox="0 0 200 200">
        <defs>
          <clipPath id="crescent">
            <circle cx="100" cy="100" r="60" />
            <circle cx="120" cy="90" r="60" />
          </clipPath>
        </defs>
        <circle cx="100" cy="100" r="60" fill="#e6eaff" clip-path="url(#crescent)" stroke="#b0b9ff" stroke-width="2"/>
        <ellipse class="eye" cx="80" cy="100" rx="5" ry="6" />
        <ellipse class="eye" cx="100" cy="100" rx="5" ry="6" />
        <path class="smile" d="M78 115 Q90 125 102 115" />
      </svg>
    </div>

  </div>

  <script>
    const sun = document.querySelector('.sun');
    const moon = document.querySelector('.moon');
    const stage = document.getElementById('stage');
	
	let ctx = 1;

    function startHearts(){
		ctx = ctx + 1;
	
      for(let i=0;i<100;i++){
        const heart = document.createElement('span');
        heart.className = 'heart';
        heart.innerText = 'â¤';
        heart.style.left = Math.random()*100 + '%';
        heart.style.top = (30+Math.random()*40) + '%';
        heart.style.fontSize = (12+Math.random()*28) + 'px';
        stage.appendChild(heart);
        setTimeout(() => heart.remove(), 3000);
      }
	  		if (ctx >= 4){
			window.location.href = "chat.html";
		}
    }

    function animateToCenter(){
      sun.animate([
        { transform: 'translate(-200%, -50%)' },
        { transform: 'translate(-140%, -50%)' }
      ], { duration: 2000, fill: 'forwards' });

      moon.animate([
        { transform: 'translate(200%, -50%)' },
        { transform: 'translate(-20%, -50%)' }
      ], { duration: 2000, fill: 'forwards' });

      setTimeout(() => {
        startHearts();
        setInterval(startHearts, 3000);

      }, 2000);
    }

    animateToCenter();
  </script>
</body>
</html>